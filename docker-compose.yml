version: '2'

services:
  kapacitor:
    image: kapacitor:1.2-alpine
    container_name: kapacitor
    ports:
      - "9092:9092"
    depends_on:
      - telegraf
    links:
      - influx

  telegraf:
    image: telegraf:1.2-alpine
    container_name: telegraf
    depends_on:
      - influx
    network_mode: "service:influx"

  influx:
    image: influxdb:1.2-alpine
    container_name: influx
    expose:
      - "8086"
